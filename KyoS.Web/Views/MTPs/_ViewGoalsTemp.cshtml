@model IEnumerable<KyoS.Web.Data.Entities.GoalsTempEntity>
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Goals</h3>
    </div>
    <div class="panel-body">
        <table class="table table-hover table-responsive table-striped" id="MyTable">
            <thead>
                <tr>
                    <th class="col-md-1">

                    </th>
                    <th class="col-md-1" style="text-align:center;">
                        Goal
                    </th>
                    <th class="col-md-3" style="text-align:left;">
                        Name
                    </th>
                    <th class="col-md-4" style="text-align:left;">
                        Area of Focus
                    </th>
                    <th class="col-md-1" style="text-align:center;">
                        Therapy
                    </th>
                    <th class="col-md-2" style="text-align:center;">

                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td align="center">
                            @if (item.ObjetiveTempList.Count() != 0)
                            {
                                <a class="icon-plus-sign-alt"></a>
                            }
                            else
                            {

                            }
                            <div style="display:none">
                                <table class="table table-striped table-bordered">
                                    <tr>
                                        <th class="col-md-1" style="text-align:center">Objective</th>
                                        <th class="col-md-5" style="text-align:left">Description</th>
                                        <th class="col-md-4" style="text-align:left">Intervention</th>
                                        <th class="col-md-2" style="text-align:center"></th>
                                    </tr>
                                    @foreach (var value in item.ObjetiveTempList)
                                    {
                                        <tr>
                                            <td align="center">@Html.DisplayFor(modelItem => value.Objetive)</td>
                                            <td align="left">@Html.DisplayFor(modelItem => value.Description)</td>
                                            <td align="left">@Html.DisplayFor(modelItem => value.Intervention)</td>
                                            <td align="center">
                                                <a onclick="showInPopup('@Url.Action("EditObjectiveModalTemp", "MTPs", new {id =  value.Id, nameGoal = @item.Name, numberGoal = @item.Number}, Context.Request.Scheme)','Edit Objective')" class="btn btn-warning" title="Edit objective"><i class="glyphicon glyphicon-pencil"></i></a>
                                                @*<a asp-action="DeleteObjectiveTemp" asp-route-id="@value.Id" asp-route-origin="1" class="btn btn-danger"><i class="glyphicon glyphicon-trash" title="Delete objective"></i></a>*@
                                                <a onclick="showInPopup('@Url.Action("DeleteObjectiveTemp1", "MTPs",new { id = value.Id}, Context.Request.Scheme)','Confirmation')" class="btn btn-danger" title="Delete objective"><i class="glyphicon glyphicon-trash"></i></a>
                                            </td>
                                        </tr>
                                    }
                                </table>
                            </div>
                        </td>
                        <td align="center">
                            @Html.DisplayFor(modelItem => item.Number)
                        </td>
                        <td align="left">
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td align="left">
                            @Html.DisplayFor(modelItem => item.AreaOfFocus)
                        </td>
                        <td align="center">
                            @Html.DisplayFor(modelItem => item.Service)
                        </td>
                        <td align="center">
                            <a onclick="showInPopup('@Url.Action("EditGoalModalTemp", "MTPs", new {id =  @item.Id}, Context.Request.Scheme)','Edit Goal')" class="btn btn-warning" title="Edit goal"><i class="glyphicon glyphicon-pencil"></i></a>
                            <a onclick="showInPopup('@Url.Action("CreateObjectiveModalTemp", "MTPs", new {idGoal =  @item.Id, idClient = @item.IdClient, nameGoal = @item.Name, numberGoal = @item.Number, number = item.numberMonths, admissisonDate = item.AdmissionDate}, Context.Request.Scheme)','Create Objective')" class="btn btn-info" title="Create objective"><i class="glyphicon glyphicon-plus"></i></a>
                            <a onclick="showInPopup('@Url.Action("DeleteGoalTemp1", "MTPs",new { id = item.Id}, Context.Request.Scheme)','Confirmation')" class="btn btn-danger" title="Delete goal"><i class="glyphicon glyphicon-trash"></i></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>